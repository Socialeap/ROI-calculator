<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Hello! Ultra</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        /* Custom Slider Styling */
        input[type=range] {
            -webkit-appearance: none;
            width: 100%;
            background: transparent;
        }
        input[type=range]::-webkit-slider-thumb {
            -webkit-appearance: none;
            height: 24px; /* Larger thumb for touch */
            width: 24px;
            border-radius: 50%;
            background: #7e22ce; /* purple-700 */
            cursor: pointer;
            margin-top: -10px;
            box-shadow: 0 0 0 4px rgba(126, 34, 206, 0.2);
            transition: transform 0.1s;
        }
        input[type=range]:active::-webkit-slider-thumb {
            transform: scale(1.1);
        }
        input[type=range]::-webkit-slider-runnable-track {
            width: 100%;
            height: 4px;
            cursor: pointer;
            background: #e2e8f0;
            border-radius: 2px;
        }
        
        /* Modal Animation */
        #roi-modal {
            transition: opacity 0.3s ease;
        }
        #roi-modal.hidden {
            opacity: 0;
            pointer-events: none;
        }
        #roi-modal:not(.hidden) {
            opacity: 1;
            pointer-events: auto;
        }
        #roi-modal-content {
            transition: transform 0.3s cubic-bezier(0.16, 1, 0.3, 1);
            transform: scale(1);
        }
        #roi-modal.hidden #roi-modal-content {
            transform: scale(0.95);
        }

        /* Mobile Scroll Fix */
        .touch-scroll {
            -webkit-overflow-scrolling: touch;
        }
    </style>
</head>
<body class="bg-gray-50 font-sans text-slate-900">

    <div class="flex flex-col items-center justify-center min-h-screen gap-4 p-4">
        <h1 class="text-2xl font-bold text-center">Hello! Ultra</h1>
        <button onclick="openRoiCalculator()" class="bg-purple-600 hover:bg-purple-700 text-white font-bold py-3 px-8 rounded-full shadow-lg transition-transform hover:scale-105 flex items-center gap-2 active:scale-95">
            <i class="fas fa-calculator"></i> Calculate ROI
        </button>
    </div>

    <div id="roi-modal" class="fixed inset-0 z-50 flex items-end sm:items-center justify-center sm:p-4 bg-slate-900/90 backdrop-blur-sm hidden transition-opacity duration-300" aria-hidden="true">
        
        <div id="roi-modal-content" class="bg-white w-full max-w-5xl sm:rounded-2xl rounded-t-2xl shadow-2xl flex flex-col h-[90vh] sm:h-auto sm:max-h-[90vh]">
            
            <div class="flex justify-between items-center p-4 sm:p-6 border-b border-slate-100 bg-slate-50/80 backdrop-blur-md sticky top-0 z-20 rounded-t-2xl">
                <div>
                    <div class="inline-flex items-center px-2 py-0.5 rounded-full text-[10px] sm:text-xs font-medium bg-purple-100 text-purple-800 mb-1">
                        ROI Calculator
                    </div>
                    <h2 class="text-xl sm:text-2xl font-bold text-slate-900 leading-tight">Is Hello! Ultra Worth It?</h2>
                </div>
                <button onclick="closeRoiCalculator()" class="text-slate-400 hover:text-slate-600 transition-colors p-2 bg-slate-100 rounded-full w-8 h-8 flex items-center justify-center">
                    <i class="fas fa-times text-lg"></i>
                </button>
            </div>

            <div class="overflow-y-auto p-4 sm:p-8 touch-scroll flex-1">
                <div class="grid grid-cols-1 lg:grid-cols-12 gap-6 lg:gap-8 items-start">
                    
                    <div class="lg:col-span-5 space-y-6">
                        <div class="space-y-1">
                            <h3 class="text-base sm:text-lg font-semibold flex items-center gap-2 text-slate-800">
                                <i class="fas fa-sliders-h text-purple-600"></i> Your Context
                            </h3>
                            <p class="text-xs sm:text-sm text-slate-500">Adjust sliders to match your business.</p>
                        </div>

                        <div class="bg-slate-50 p-4 rounded-xl border border-slate-200 shadow-sm">
                            <div class="flex justify-between items-center mb-4">
                                <label class="text-sm font-medium text-slate-700 flex items-center gap-2">
                                    <i class="fas fa-dollar-sign text-slate-400 w-4"></i> Hourly Value
                                </label>
                                <span class="font-bold text-purple-700 bg-white px-3 py-1 rounded-md border border-purple-100 shadow-sm text-sm">
                                    $<span id="val-hourly">100</span>/hr
                                </span>
                            </div>
                            <input type="range" id="input-hourly" min="20" max="1000" step="10" value="100" oninput="calculateROI()" aria-label="Hourly Rate">
                        </div>

                        <div class="bg-slate-50 p-4 rounded-xl border border-slate-200 shadow-sm">
                            <div class="flex justify-between items-center mb-4">
                                <label class="text-sm font-medium text-slate-700 flex items-center gap-2">
                                    <i class="fas fa-clock text-slate-400 w-4"></i> Weekly Time
                                </label>
                                <span class="font-bold text-purple-700 bg-white px-3 py-1 rounded-md border border-purple-100 shadow-sm text-sm">
                                    <span id="val-hours">5</span> hrs
                                </span>
                            </div>
                            <input type="range" id="input-hours" min="0" max="40" step="1" value="5" oninput="calculateROI()" aria-label="Weekly Hours">
                        </div>

                        <div class="bg-slate-50 p-4 rounded-xl border border-slate-200 shadow-sm">
                            <div class="flex justify-between items-center mb-4">
                                <label class="text-sm font-medium text-slate-700 flex items-center gap-2">
                                    <i class="fas fa-chart-line text-slate-400 w-4"></i> Connection Value
                                </label>
                                <span class="font-bold text-purple-700 bg-white px-3 py-1 rounded-md border border-purple-100 shadow-sm text-sm">
                                    $<span id="val-deal">1000</span>
                                </span>
                            </div>
                            <input type="range" id="input-deal" min="100" max="10000" step="100" value="1000" oninput="calculateROI()" aria-label="Deal Value">
                        </div>
                    </div>

                    <div class="lg:col-span-7 space-y-4 sm:space-y-6 pb-4">
                        
                        <div class="bg-slate-900 text-white rounded-2xl shadow-xl relative overflow-hidden p-6 sm:p-8">
                            <div class="absolute top-0 right-0 w-48 sm:w-64 h-48 sm:h-64 bg-purple-600/20 rounded-full blur-3xl -mr-10 -mt-10 pointer-events-none"></div>
                            <div class="absolute bottom-0 left-0 w-32 sm:w-48 h-32 sm:h-48 bg-indigo-600/20 rounded-full blur-3xl -ml-8 -mb-8 pointer-events-none"></div>
                            
                            <div class="relative z-10 grid grid-cols-2 gap-4 sm:gap-8">
                                <div class="flex flex-col justify-center">
                                    <p class="text-slate-400 text-[10px] sm:text-xs uppercase tracking-wider font-bold mb-1">Monthly Cost</p>
                                    <div class="flex items-baseline gap-1">
                                        <span class="text-3xl sm:text-4xl font-bold">$29</span>
                                        <span class="text-slate-400 text-xs sm:text-sm">/mo</span>
                                    </div>
                                </div>

                                <div class="flex flex-col justify-center">
                                    <p class="text-purple-300 text-[10px] sm:text-xs uppercase tracking-wider font-bold mb-1">Total Monthly Value</p>
                                    <div class="flex flex-col sm:flex-row sm:items-baseline gap-1 sm:gap-2">
                                        <span class="text-4xl sm:text-5xl font-bold text-green-400 tracking-tight">$<span id="result-value">0</span></span>
                                    </div>
                                </div>
                            </div>
                            
                            <div class="mt-3 mb-6">
                                <div class="inline-flex items-center px-2.5 py-1 rounded text-xs font-bold bg-green-500/20 text-green-300 border border-green-500/30">
                                    <i class="fas fa-arrow-up mr-1.5"></i> <span id="result-roi">0</span>% ROI
                                </div>
                            </div>

                            <div class="pt-6 border-t border-slate-800 grid grid-cols-3 gap-2 sm:gap-4 text-center">
                                <div class="bg-slate-800/50 rounded-lg p-2 sm:p-3 backdrop-blur-sm">
                                    <div class="text-lg sm:text-2xl font-bold text-white"><span id="res-leads-replaced">0</span></div>
                                    <div class="text-[9px] sm:text-[10px] text-slate-400 uppercase tracking-wide mt-0.5">Leads Replaced</div>
                                </div>
                                <div class="bg-slate-800/50 rounded-lg p-2 sm:p-3 backdrop-blur-sm">
                                    <div class="text-lg sm:text-2xl font-bold text-white"><span id="res-leads-growth">0</span></div>
                                    <div class="text-[9px] sm:text-[10px] text-slate-400 uppercase tracking-wide mt-0.5">Bonus Leads</div>
                                </div>
                                <div class="bg-slate-800/50 rounded-lg p-2 sm:p-3 backdrop-blur-sm">
                                    <div class="text-lg sm:text-2xl font-bold text-white">$<span id="res-labor-value">0</span></div>
                                    <div class="text-[9px] sm:text-[10px] text-slate-400 uppercase tracking-wide mt-0.5">Labor Savings</div>
                                </div>
                            </div>

                            <div class="mt-6 sm:mt-8">
                                <button onclick="window.location.href='https://form.jotform.com/Transcendence_Media/hello-waiting-list'" class="w-full bg-white text-purple-900 hover:bg-slate-100 font-bold text-base sm:text-lg py-3.5 sm:py-4 rounded-xl shadow-[0_0_20px_rgba(255,255,255,0.3)] transition-all hover:scale-[1.02] active:scale-[0.98] flex items-center justify-center gap-2">
                                    Start Saving $<span id="btn-savings">0</span>/mo
                                    <i class="fas fa-arrow-right"></i>
                                </button>
                            </div>
                        </div>

                        <div class="bg-white border border-slate-200 rounded-xl p-4 sm:p-6 shadow-sm">
                            <h4 class="text-xs sm:text-sm font-semibold text-slate-900 mb-4 uppercase tracking-wide text-center">Cost Per Qualified Lead</h4>
                            
                            <div class="space-y-4">
                                <div>
                                    <div class="flex justify-between text-xs mb-1.5">
                                        <span class="font-medium text-slate-600">Manual Sourcing</span>
                                        <span class="text-slate-500">$<span id="bar-manual-count">0</span>/lead</span>
                                    </div>
                                    <div class="h-2.5 w-full bg-slate-100 rounded-full overflow-hidden">
                                        <div id="bar-manual-fill" class="h-full bg-slate-400 rounded-full transition-all duration-500" style="width: 100%"></div>
                                    </div>
                                </div>

                                <div>
                                    <div class="flex justify-between text-xs mb-1.5">
                                        <span class="font-bold text-purple-700 flex items-center gap-1.5">
                                            <span class="w-2 h-2 rounded-full bg-purple-600 animate-pulse"></span>
                                            Hello! Ultra Agent
                                        </span>
                                        <span class="font-bold text-purple-700">$0.19/lead</span>
                                    </div>
                                    <div class="h-2.5 w-full bg-slate-100 rounded-full overflow-hidden relative">
                                        <div class="absolute inset-0 bg-purple-50 w-full h-full"></div>
                                        <div id="bar-ultra-fill" class="h-full bg-gradient-to-r from-purple-500 to-indigo-600 rounded-full transition-all duration-500 shadow-[0_0_10px_rgba(147,51,234,0.5)]"></div>
                                    </div>
                                    <p class="text-[10px] sm:text-xs text-right text-green-600 font-bold mt-1.5">
                                        <i class="fas fa-bolt mr-1"></i> <span id="multiplier-val">0</span>x More Efficient
                                    </p>
                                </div>
                            </div>
                        </div>

                    </div>
                </div>
            </div>
        </div>
    </div>

    <script>
        // Constants
        const ULTRA_COST = 29;
        const ULTRA_SCOUTS = 150;
        const MANUAL_LEADS_PER_HOUR = 4; // 15 mins/lead
        const CONVERSION_RATE = 0.05; // 5% conversion assume for growth value
        const WEEKS_PER_MONTH = 4.3;

        // Elements
        const modal = document.getElementById('roi-modal');
        const inputs = {
            hourly: document.getElementById('input-hourly'),
            hours: document.getElementById('input-hours'),
            deal: document.getElementById('input-deal')
        };
        const labels = {
            hourly: document.getElementById('val-hourly'),
            hours: document.getElementById('val-hours'),
            deal: document.getElementById('val-deal')
        };
        const results = {
            value: document.getElementById('result-value'),
            roi: document.getElementById('result-roi'),
            leadsReplaced: document.getElementById('res-leads-replaced'),
            leadsGrowth: document.getElementById('res-leads-growth'),
            laborValue: document.getElementById('res-labor-value'),
            btnSavings: document.getElementById('btn-savings'),
            manualCount: document.getElementById('bar-manual-count'),
            manualBar: document.getElementById('bar-manual-fill'),
            multiplier: document.getElementById('multiplier-val')
        };

        function openRoiCalculator() {
            modal.classList.remove('hidden');
            document.body.style.overflow = 'hidden'; // Prevent background scroll
            calculateROI();
        }

        function closeRoiCalculator() {
            modal.classList.add('hidden');
            document.body.style.overflow = ''; // Restore background scroll
        }

        // Format numbers (compact for mobile)
        const fmt = (num) => {
            if (num >= 1000000) return (num / 1000000).toFixed(1) + 'M';
            if (num >= 1000) return Math.round(num).toLocaleString();
            return Math.round(num);
        };

        function calculateROI() {
            // 1. Get User Inputs
            const hourlyRate = parseInt(inputs.hourly.value);
            const weeklyHours = parseInt(inputs.hours.value);
            const dealValue = parseInt(inputs.deal.value);

            // Update Input Labels
            labels.hourly.innerText = hourlyRate;
            labels.hours.innerText = weeklyHours;
            labels.deal.innerText = dealValue.toLocaleString();

            // --- REVISED LOGIC: Replacement + Growth Model ---
            
            // A. Calculate Current Manual Output
            // e.g. 5 hours/week * 4.3 weeks * 4 leads/hr = 86 leads/month
            const manualMonthlyLeads = weeklyHours * WEEKS_PER_MONTH * MANUAL_LEADS_PER_HOUR;

            // B. Determine how Ultra interacts with this volume
            // Ultra provides 150 leads fixed.
            
            // 1. Replacement Volume: How many of the User's manual leads does Ultra take over?
            // Cap at 150. If User does 200, Ultra replaces 150. If User does 50, Ultra replaces 50.
            const replacementLeads = Math.min(manualMonthlyLeads, ULTRA_SCOUTS);

            // 2. Growth Volume: How many NEW leads does Ultra add?
            // If User does 50, Ultra adds 100. If User does 200, Ultra adds 0.
            const growthLeads = Math.max(0, ULTRA_SCOUTS - manualMonthlyLeads);

            // C. Calculate Monetary Value
            
            // 1. Value of Replacement (Labor Savings)
            // Each replaced lead saves (15 mins) of labor.
            // Cost per manual lead = Hourly Rate / 4.
            const costPerManualLead = hourlyRate / MANUAL_LEADS_PER_HOUR;
            const replacementValue = replacementLeads * costPerManualLead;

            // 2. Value of Growth (New Revenue Potential)
            // Each new lead has a potential deal value.
            // Value = Leads * Conversion Rate * Deal Value.
            const growthValue = growthLeads * CONVERSION_RATE * dealValue;

            // 3. Total Monthly Value
            const totalMonthlyValue = replacementValue + growthValue;

            // 4. Net Benefit & ROI
            const netBenefit = totalMonthlyValue - ULTRA_COST;
            const roi = (netBenefit / ULTRA_COST) * 100;

            // --- UPDATE UI ---
            
            // Main Results
            results.value.innerText = fmt(totalMonthlyValue);
            results.roi.innerText = fmt(roi);
            
            // Stats Grid
            results.leadsReplaced.innerText = Math.round(replacementLeads);
            results.leadsGrowth.innerText = Math.round(growthLeads);
            results.laborValue.innerText = fmt(replacementValue);
            
            // CTA
            results.btnSavings.innerText = fmt(netBenefit);

            // --- CHART LOGIC: Cost Per Lead Efficiency ---
            // This compares the UNIT COST, showing why Ultra is efficient regardless of volume.
            
            // Manual Cost per Lead (Derived from Hourly Rate)
            // e.g. $100/hr / 4 leads = $25/lead
            const manualUnitCost = costPerManualLead;
            
            // Ultra Cost per Lead (Fixed)
            // $29 / 150 leads = $0.19/lead
            const ultraUnitCost = ULTRA_COST / ULTRA_SCOUTS; 
            
            // Update Chart Text
            results.manualCount.innerText = manualUnitCost.toFixed(2);
            
            // Update Bar Widths
            results.manualBar.style.width = `100%`;
            
            const ultraBarPercent = (ultraUnitCost / manualUnitCost) * 100;
            // Ensure at least 1% so it is visible
            const ultraBarFill = document.getElementById('bar-ultra-fill');
            if(ultraBarFill) {
                ultraBarFill.style.width = `${Math.max(1, ultraBarPercent)}%`;
            }
            
            // Efficiency Multiplier
            const efficiencyMultiplier = Math.round(manualUnitCost / ultraUnitCost);
            results.multiplier.innerText = efficiencyMultiplier;
        }

        // Initialize
        calculateROI();

        // Close on backdrop click
        modal.addEventListener('click', (e) => {
            if (e.target === modal) closeRoiCalculator();
        });
        
        // Close on Escape key
        document.addEventListener('keydown', (e) => {
            if (e.key === 'Escape' && !modal.classList.contains('hidden')) closeRoiCalculator();
        });
    </script>
    </body>
</html>
